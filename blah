{"changed": true, "cmd": "containerd config default | sudo tee /etc/containerd/config.toml", "delta": "0:00:00.046319", "end": "2021-12-30 18:32:03.018932", "msg": "non-zero return code", "rc": 1, "start": "2021-12-30 18:32:02.972613", "stderr": "tee: /etc/containerd/config.toml: No such file or directory", "stderr_lines": ["tee: /etc/containerd/config.toml: No such file or directory"], "stdout": "disabled_plugins = []\nimports = []\noom_score = 0\nplugin_dir = \"\"\nrequired_plugins = []\nroot = \"/var/lib/containerd\"\nstate = \"/run/containerd\"\nversion = 2\n\n[cgroup]\n  path = \"\"\n\n[debug]\n  address = \"\"\n  format = \"\"\n  gid = 0\n  level = \"\"\n  uid = 0\n\n[grpc]\n  address = \"/run/containerd/containerd.sock\"\n  gid = 0\n  max_recv_message_size = 16777216\n  max_send_message_size = 16777216\n  tcp_address = \"\"\n  tcp_tls_cert = \"\"\n  tcp_tls_key = \"\"\n  uid = 0\n\n[metrics]\n  address = \"\"\n  grpc_histogram = false\n\n[plugins]\n\n  [plugins.\"io.containerd.gc.v1.scheduler\"]\n    deletion_threshold = 0\n    mutation_threshold = 100\n    pause_threshold = 0.02\n    schedule_delay = \"0s\"\n    startup_delay = \"100ms\"\n\n  [plugins.\"io.containerd.grpc.v1.cri\"]\n    disable_apparmor = false\n    disable_cgroup = false\n    disable_hugetlb_controller = true\n    disable_proc_mount = false\n    disable_tcp_service = true\n    enable_selinux = false\n    enable_tls_streaming = false\n    ignore_image_defined_volumes = false\n    max_concurrent_downloads = 3\n    max_container_log_line_size = 16384\n    netns_mounts_under_state_dir = false\n    restrict_oom_score_adj = false\n    sandbox_image = \"k8s.gcr.io/pause:3.5\"\n    selinux_category_range = 1024\n    stats_collect_period = 10\n    stream_idle_timeout = \"4h0m0s\"\n    stream_server_address = \"127.0.0.1\"\n    stream_server_port = \"0\"\n    systemd_cgroup = false\n    tolerate_missing_hugetlb_controller = true\n    unset_seccomp_profile = \"\"\n\n    [plugins.\"io.containerd.grpc.v1.cri\".cni]\n      bin_dir = \"/opt/cni/bin\"\n      conf_dir = \"/etc/cni/net.d\"\n      conf_template = \"\"\n      max_conf_num = 1\n\n    [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n      default_runtime_name = \"runc\"\n      disable_snapshot_annotations = true\n      discard_unpacked_layers = false\n      no_pivot = false\n      snapshotter = \"overlayfs\"\n\n      [plugins.\"io.containerd.grpc.v1.cri\".containerd.default_runtime]\n        base_runtime_spec = \"\"\n        container_annotations = []\n        pod_annotations = []\n        privileged_without_host_devices = false\n        runtime_engine = \"\"\n        runtime_root = \"\"\n        runtime_type = \"\"\n\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd.default_runtime.options]\n\n      [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]\n\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n          base_runtime_spec = \"\"\n          container_annotations = []\n          pod_annotations = []\n          privileged_without_host_devices = false\n          runtime_engine = \"\"\n          runtime_root = \"\"\n          runtime_type = \"io.containerd.runc.v2\"\n\n          [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n            BinaryName = \"\"\n            CriuImagePath = \"\"\n            CriuPath = \"\"\n            CriuWorkPath = \"\"\n            IoGid = 0\n            IoUid = 0\n            NoNewKeyring = false\n            NoPivotRoot = false\n            Root = \"\"\n            ShimCgroup = \"\"\n            SystemdCgroup = false\n\n      [plugins.\"io.containerd.grpc.v1.cri\".containerd.untrusted_workload_runtime]\n        base_runtime_spec = \"\"\n        container_annotations = []\n        pod_annotations = []\n        privileged_without_host_devices = false\n        runtime_engine = \"\"\n        runtime_root = \"\"\n        runtime_type = \"\"\n\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd.untrusted_workload_runtime.options]\n\n    [plugins.\"io.containerd.grpc.v1.cri\".image_decryption]\n      key_model = \"node\"\n\n    [plugins.\"io.containerd.grpc.v1.cri\".registry]\n      config_path = \"\"\n\n      [plugins.\"io.containerd.grpc.v1.cri\".registry.auths]\n\n      [plugins.\"io.containerd.grpc.v1.cri\".registry.configs]\n\n      [plugins.\"io.containerd.grpc.v1.cri\".registry.headers]\n\n      [plugins.\"io.containerd.grpc.v1.cri\".registry.mirrors]\n\n    [plugins.\"io.containerd.grpc.v1.cri\".x509_key_pair_streaming]\n      tls_cert_file = \"\"\n      tls_key_file = \"\"\n\n  [plugins.\"io.containerd.internal.v1.opt\"]\n    path = \"/opt/containerd\"\n\n  [plugins.\"io.containerd.internal.v1.restart\"]\n    interval = \"10s\"\n\n  [plugins.\"io.containerd.metadata.v1.bolt\"]\n    content_sharing_policy = \"shared\"\n\n  [plugins.\"io.containerd.monitor.v1.cgroups\"]\n    no_prometheus = false\n\n  [plugins.\"io.containerd.runtime.v1.linux\"]\n    no_shim = false\n    runtime = \"runc\"\n    runtime_root = \"\"\n    shim = \"containerd-shim\"\n    shim_debug = false\n\n  [plugins.\"io.containerd.runtime.v2.task\"]\n    platforms = [\"linux/amd64\"]\n\n  [plugins.\"io.containerd.service.v1.diff-service\"]\n    default = [\"walking\"]\n\n  [plugins.\"io.containerd.snapshotter.v1.aufs\"]\n    root_path = \"\"\n\n  [plugins.\"io.containerd.snapshotter.v1.btrfs\"]\n    root_path = \"\"\n\n  [plugins.\"io.containerd.snapshotter.v1.devmapper\"]\n    async_remove = false\n    base_image_size = \"\"\n    pool_name = \"\"\n    root_path = \"\"\n\n  [plugins.\"io.containerd.snapshotter.v1.native\"]\n    root_path = \"\"\n\n  [plugins.\"io.containerd.snapshotter.v1.overlayfs\"]\n    root_path = \"\"\n\n  [plugins.\"io.containerd.snapshotter.v1.zfs\"]\n    root_path = \"\"\n\n[proxy_plugins]\n\n[stream_processors]\n\n  [stream_processors.\"io.containerd.ocicrypt.decoder.v1.tar\"]\n    accepts = [\"application/vnd.oci.image.layer.v1.tar+encrypted\"]\n    args = [\"--decryption-keys-path\", \"/etc/containerd/ocicrypt/keys\"]\n    env = [\"OCICRYPT_KEYPROVIDER_CONFIG=/etc/containerd/ocicrypt/ocicrypt_keyprovider.conf\"]\n    path = \"ctd-decoder\"\n    returns = \"application/vnd.oci.image.layer.v1.tar\"\n\n  [stream_processors.\"io.containerd.ocicrypt.decoder.v1.tar.gzip\"]\n    accepts = [\"application/vnd.oci.image.layer.v1.tar+gzip+encrypted\"]\n    args = [\"--decryption-keys-path\", \"/etc/containerd/ocicrypt/keys\"]\n    env = [\"OCICRYPT_KEYPROVIDER_CONFIG=/etc/containerd/ocicrypt/ocicrypt_keyprovider.conf\"]\n    path = \"ctd-decoder\"\n    returns = \"application/vnd.oci.image.layer.v1.tar+gzip\"\n\n[timeouts]\n  \"io.containerd.timeout.shim.cleanup\" = \"5s\"\n  \"io.containerd.timeout.shim.load\" = \"5s\"\n  \"io.containerd.timeout.shim.shutdown\" = \"3s\"\n  \"io.containerd.timeout.task.state\" = \"2s\"\n\n[ttrpc]\n  address = \"\"\n  gid = 0\n  uid = 0", "stdout_lines": ["disabled_plugins = []", "imports = []", "oom_score = 0", "plugin_dir = \"\"", "required_plugins = []", "root = \"/var/lib/containerd\"", "state = \"/run/containerd\"", "version = 2", "", "[cgroup]", "  path = \"\"", "", "[debug]", "  address = \"\"", "  format = \"\"", "  gid = 0", "  level = \"\"", "  uid = 0", "", "[grpc]", "  address = \"/run/containerd/containerd.sock\"", "  gid = 0", "  max_recv_message_size = 16777216", "  max_send_message_size = 16777216", "  tcp_address = \"\"", "  tcp_tls_cert = \"\"", "  tcp_tls_key = \"\"", "  uid = 0", "", "[metrics]", "  address = \"\"", "  grpc_histogram = false", "", "[plugins]", "", "  [plugins.\"io.containerd.gc.v1.scheduler\"]", "    deletion_threshold = 0", "    mutation_threshold = 100", "    pause_threshold = 0.02", "    schedule_delay = \"0s\"", "    startup_delay = \"100ms\"", "", "  [plugins.\"io.containerd.grpc.v1.cri\"]", "    disable_apparmor = false", "    disable_cgroup = false", "    disable_hugetlb_controller = true", "    disable_proc_mount = false", "    disable_tcp_service = true", "    enable_selinux = false", "    enable_tls_streaming = false", "    ignore_image_defined_volumes = false", "    max_concurrent_downloads = 3", "    max_container_log_line_size = 16384", "    netns_mounts_under_state_dir = false", "    restrict_oom_score_adj = false", "    sandbox_image = \"k8s.gcr.io/pause:3.5\"", "    selinux_category_range = 1024", "    stats_collect_period = 10", "    stream_idle_timeout = \"4h0m0s\"", "    stream_server_address = \"127.0.0.1\"", "    stream_server_port = \"0\"", "    systemd_cgroup = false", "    tolerate_missing_hugetlb_controller = true", "    unset_seccomp_profile = \"\"", "", "    [plugins.\"io.containerd.grpc.v1.cri\".cni]", "      bin_dir = \"/opt/cni/bin\"", "      conf_dir = \"/etc/cni/net.d\"", "      conf_template = \"\"", "      max_conf_num = 1", "", "    [plugins.\"io.containerd.grpc.v1.cri\".containerd]", "      default_runtime_name = \"runc\"", "      disable_snapshot_annotations = true", "      discard_unpacked_layers = false", "      no_pivot = false", "      snapshotter = \"overlayfs\"", "", "      [plugins.\"io.containerd.grpc.v1.cri\".containerd.default_runtime]", "        base_runtime_spec = \"\"", "        container_annotations = []", "        pod_annotations = []", "        privileged_without_host_devices = false", "        runtime_engine = \"\"", "        runtime_root = \"\"", "        runtime_type = \"\"", "", "        [plugins.\"io.containerd.grpc.v1.cri\".containerd.default_runtime.options]", "", "      [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes]", "", "        [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]", "          base_runtime_spec = \"\"", "          container_annotations = []", "          pod_annotations = []", "          privileged_without_host_devices = false", "          runtime_engine = \"\"", "          runtime_root = \"\"", "          runtime_type = \"io.containerd.runc.v2\"", "", "          [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]", "            BinaryName = \"\"", "            CriuImagePath = \"\"", "            CriuPath = \"\"", "            CriuWorkPath = \"\"", "            IoGid = 0", "            IoUid = 0", "            NoNewKeyring = false", "            NoPivotRoot = false", "            Root = \"\"", "            ShimCgroup = \"\"", "            SystemdCgroup = false", "", "      [plugins.\"io.containerd.grpc.v1.cri\".containerd.untrusted_workload_runtime]", "        base_runtime_spec = \"\"", "        container_annotations = []", "        pod_annotations = []", "        privileged_without_host_devices = false", "        runtime_engine = \"\"", "        runtime_root = \"\"", "        runtime_type = \"\"", "", "        [plugins.\"io.containerd.grpc.v1.cri\".containerd.untrusted_workload_runtime.options]", "", "    [plugins.\"io.containerd.grpc.v1.cri\".image_decryption]", "      key_model = \"node\"", "", "    [plugins.\"io.containerd.grpc.v1.cri\".registry]", "      config_path = \"\"", "", "      [plugins.\"io.containerd.grpc.v1.cri\".registry.auths]", "", "      [plugins.\"io.containerd.grpc.v1.cri\".registry.configs]", "", "      [plugins.\"io.containerd.grpc.v1.cri\".registry.headers]", "", "      [plugins.\"io.containerd.grpc.v1.cri\".registry.mirrors]", "", "    [plugins.\"io.containerd.grpc.v1.cri\".x509_key_pair_streaming]", "      tls_cert_file = \"\"", "      tls_key_file = \"\"", "", "  [plugins.\"io.containerd.internal.v1.opt\"]", "    path = \"/opt/containerd\"", "", "  [plugins.\"io.containerd.internal.v1.restart\"]", "    interval = \"10s\"", "", "  [plugins.\"io.containerd.metadata.v1.bolt\"]", "    content_sharing_policy = \"shared\"", "", "  [plugins.\"io.containerd.monitor.v1.cgroups\"]", "    no_prometheus = false", "", "  [plugins.\"io.containerd.runtime.v1.linux\"]", "    no_shim = false", "    runtime = \"runc\"", "    runtime_root = \"\"", "    shim = \"containerd-shim\"", "    shim_debug = false", "", "  [plugins.\"io.containerd.runtime.v2.task\"]", "    platforms = [\"linux/amd64\"]", "", "  [plugins.\"io.containerd.service.v1.diff-service\"]", "    default = [\"walking\"]", "", "  [plugins.\"io.containerd.snapshotter.v1.aufs\"]", "    root_path = \"\"", "", "  [plugins.\"io.containerd.snapshotter.v1.btrfs\"]", "    root_path = \"\"", "", "  [plugins.\"io.containerd.snapshotter.v1.devmapper\"]", "    async_remove = false", "    base_image_size = \"\"", "    pool_name = \"\"", "    root_path = \"\"", "", "  [plugins.\"io.containerd.snapshotter.v1.native\"]", "    root_path = \"\"", "", "  [plugins.\"io.containerd.snapshotter.v1.overlayfs\"]", "    root_path = \"\"", "", "  [plugins.\"io.containerd.snapshotter.v1.zfs\"]", "    root_path = \"\"", "", "[proxy_plugins]", "", "[stream_processors]", "", "  [stream_processors.\"io.containerd.ocicrypt.decoder.v1.tar\"]", "    accepts = [\"application/vnd.oci.image.layer.v1.tar+encrypted\"]", "    args = [\"--decryption-keys-path\", \"/etc/containerd/ocicrypt/keys\"]", "    env = [\"OCICRYPT_KEYPROVIDER_CONFIG=/etc/containerd/ocicrypt/ocicrypt_keyprovider.conf\"]", "    path = \"ctd-decoder\"", "    returns = \"application/vnd.oci.image.layer.v1.tar\"", "", "  [stream_processors.\"io.containerd.ocicrypt.decoder.v1.tar.gzip\"]", "    accepts = [\"application/vnd.oci.image.layer.v1.tar+gzip+encrypted\"]", "    args = [\"--decryption-keys-path\", \"/etc/containerd/ocicrypt/keys\"]", "    env = [\"OCICRYPT_KEYPROVIDER_CONFIG=/etc/containerd/ocicrypt/ocicrypt_keyprovider.conf\"]", "    path = \"ctd-decoder\"", "    returns = \"application/vnd.oci.image.layer.v1.tar+gzip\"", "", "[timeouts]", "  \"io.containerd.timeout.shim.cleanup\" = \"5s\"", "  \"io.containerd.timeout.shim.load\" = \"5s\"", "  \"io.containerd.timeout.shim.shutdown\" = \"3s\"", "  \"io.containerd.timeout.task.state\" = \"2s\"", "", "[ttrpc]", "  address = \"\"", "  gid = 0", "  uid = 0"]}
